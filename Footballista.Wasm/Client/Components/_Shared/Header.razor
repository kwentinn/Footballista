@using Blazored.LocalStorage
@using Footballista.Wasm.Client.LocalStorage;

@inject NavigationManager Nav
@inject ISyncLocalStorageService LocalStorageService

<Bar Breakpoint="Breakpoint.Desktop" Background="Background.Light" ThemeContrast="ThemeContrast.Light">
	<BarBrand>Footballista</BarBrand>
	<BarToggler />
	<BarMenu>
		<BarStart>
			<BarItem>
				<BarLink To="#home">Home</BarLink>
			</BarItem>
			<BarItem>
				<BarLink To="#docs">Documentation</BarLink>
			</BarItem>
		</BarStart>
		<BarEnd>
			<BarItem>
				<Button Color="Color.Secondary" @onclick="() => ExitCareer()">Exit Career</Button>
				<CultureSelector />
			</BarItem>
		</BarEnd>
	</BarMenu>
</Bar>

@code {
	public void ExitCareer()
	{
		LocalStorageService.RemoveItem(LocalStorageKeys.CurrentCareer);

		Nav.NavigateTo("/", forceLoad: true);
	}
}
